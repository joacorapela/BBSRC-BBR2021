\section{Background: real-time neuroinformatics and control in behavioural systems
  neuroscience}

To understand the neural basis of behaviour, experiments need to control and quantify animal behaviour whilst recording, and often manipulating, neural activity. 
%
Powerful experimental designs require behavioural feedback (e.g.\ reward, lights, sounds, actuated
devices) or neural perturbation (e.g.\ using light-sensitive polarising
molecules) that depend on real-time behaviour or neural state.
%
Furthermore, it has become increasingly apparent that the neural signals that
drive complex behaviour are manifest in a broad population of neurons rather
than in single cells. Current neural recording emphasises high-dimensional
signals from 100s to 1000s of neurons monitored using multi-electrode arrays or cellular-resolution imaging, with a wide array of probe configurations and neural targets.
%
\textbf{This complexity of experiments limits the potential for database-driven progress in systems neuroscience}. The number of possible experiments is astronomical, and new questions are typically answered by designing and conducting new experiments rather than mining the data from an old one.

At present, progress in the field is held back by the challenge of rapidly designing and implementing new experimental protocols, and the difficulty of integrating state-of-the-art data processing and
neuroinformatics into custom experimental designs.
%
\textbf{Reproducibility}, in particular, depends on the availability of standardised tools for experimental control and analysis, shared between laboratories (Baker, 2016; Ioannidis, 2005). Although such tools exist in genetics, astronomy, physics and medicine (Fish et al., 2016; Abdalla et al., 2018, CERN Education, Communications and Outreach Group, 2018, Dickinson et al., 2016, Bycroft et al., 2018), they are mostly lacking in neuroscience, with documented consequences for the reliability of ``discoveries'' (Baker, 2016; Botvinik-Nezer et al., 2020; Button et al., 2013). 

\setlength{\columnsep}{1em}
\begin{wrapfigure}{R}{0.6\textwidth}
    \href{http://www.gatsby.ucl.ac.uk/~rapela/bbsrc-bbr21/roadmap-bbsrc_noCaption.png}{\includegraphics[width=0.6\textwidth]{figures/roadmap-bbsrc_noCaption.png}}

  \caption{\small Bonsai development timeline and community adoption. (A) Timeline of
    milestones and landmark package releases. (B) Example capabilities 
    within Bonsai. (C) Bonsai workflow for tracking the position of objects
    in a video. (D) Worldwide
    distribution of visitors to the bonsai-rx.org website. (E)
    Number of downloads for each Bonsai version. (F) Cumulative number of
    registered forum users, citations of the main publication, and number of
    training events, by year (bottom panels), versus release and development
    cycle (top panel), measured in commits to main repository. Click on the
    image to see its online version.}

  \label{fig:bonsai}

\end{wrapfigure}

\input{bonsai.tex}

Bonsai achieves robust behavioural control, hardware interaction and signal acquisition while ensuring remarkable ease of use.  The proposed project will provide valuable enhancements.  We will develop, test and deploy a new software workflow making it possible to incorporate external packages into Bonsai's C\#-based environment.  Building on this new extensibility, we will then incorporate a suite of machine-learning-driven analysis tools into the Bonsai environment.  These added capabilities will allow  video-based behavioural analysis as well as real-time interfacing of population-scale activity with laboratory control.  In parallel we will develop the infrastructure needed to evaluate competing data analytic approaches within a single experimental framework

The proposed project will \textbf{enhance, reinforce and support} this key neuroinformatics
resource to streamline \textbf{reproducible experimental design, data collection and analysis}, while making \textbf{standardised implementations of cutting-edge machine-learning methodologies} widely available to the community, potentially creating the most powerful experimental
control and analysis tool available to neuroscientists, psychologists and
ethologists worldwide.

\input{otherResources.tex}


% A central goal of the software resource proposed here is to address this
% problem, by extending Bonsai~(an experimental control software ecosystem;
% Figure~\ref{fig:bonsai} and Section~\ref{sec:bonsai}) with state-of-the-art
% online (and offline) data analysis methods
% (Figure~\ref{fig:proposedBonsaiExtensions} and
% Section~\ref{sec:functionality}).
% Bonsai is unique amongst experimental control systems in that
% it allows users with no programming expertise to design and implement
% sophisticated experiments.
%
% The latest Its large and rapidly growing community of users demonstrates the demand for such software resources.
%

% With the proposed enhancements, users of Bonsai will be able to use sophisticated \textbf{machine-learning methods} to
% control their experiments and analyse their data. This \textbf{democratisation}
% of machine learning functionality will allow scientists without computational
% skills to control sophisticated experiments and analyse their data in
% unprecedented ways, which will facilitate \textbf{advances in explaining how the
%   brain gives rise to behaviour}.



% \subsection{Bonsai}
% \label{sec:bonsai}

